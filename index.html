<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Python Editor</title>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css"
        />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/material-darker.min.css"
        />
        <link rel="stylesheet" href="css/style.css" />
    </head>
    <body>
        <div class="container">
            <div class="panel left-panel" id="instruction-area">Instruct</div>
            <div class="panel right-panel">
                <div class="code-area">
                    <textarea id="code-editor">
# Write your Python code here...</textarea
                    >
                </div>
                <div id="output-area"></div>
                <div class="button-container">
                    <button type="button" id="run-button">Run</button>
                </div>
            </div>
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/python/python.min.js"></script>
        <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/marked/lib/marked.umd.js"></script>
        <script src="js/codemirror-setup.js"></script>
        <script src="js/pyodide-setup.js"></script>
        <script src="js/markdown-setup.js"></script>
        <script src="js/io.js"></script>

        <script>
            editor_name = addCodeMirror("code-editor");
            addPyodide(editor_name, "run-button");

            async function loadInstructions() {
                try {
                    const instructionUrl =
                        "https://raw.githubusercontent.com/geekcomputers/Python/refs/heads/master/Checker_game_by_dz/first.py"; // Change this to your URL
                    const markdown = await downloadFileAsString(instructionUrl);
                    renderMarkdown("instruction-area", markdown);
                } catch (error) {
                    renderMarkdown(
                        "instruction-area",
                        "# Error\n\nFailed to load instructions.",
                    );
                }
            }

            loadInstructions();
        </script>
    </body>
</html>
